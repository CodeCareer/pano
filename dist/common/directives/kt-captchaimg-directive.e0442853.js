!function(){"use strict";angular.module("kt.common").directive("ktCaptchaImg",["ktCaptcha",function(a){return{restrict:"A",scope:{settings:"=settings"},link:function(b,c,d){var e=0|d.height,f=$(d.heightLinkTo);if(f.length){e=f[0].getBoundingClientRect().height-2}var g=new a($.extend({selector:c,height:e,width:0|d.width,font:'bold 25px "Comic Sans MS", cursive, sans-serif',onSuccess:function(){b.$emit("imgCaptchaSuccess."+c.attr("id"),b.data||{})},onError:function(){b.$emit("imgCaptchaSuccess."+c.attr("id"))}},b.settings||{}));g.generate(),c.data("captcha",g),b.settings&&(b.settings.CAPTCHA=g),b.$on("validateImgCaptcha."+c.attr("id"),function(a,c){b.data=c,g.validate(c.value)})}}}])}();