!function(){"use strict";angular.module("kt.common").directive("ktEchart",["ktEchartTheme1",function(a){return{restrict:"A",scope:{chartOptions:"=chartOptions"},link:function(b,c,d){var e=echarts.init(c[0]),f=a||{},g={tooltip:{trigger:"axis",shadowStyle:{color:"rgba(0,0,0,.1)"},axisPointer:{type:"shadow"}},toolbox:{show:!0,orient:"vertical",x:"right",y:"center",feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},yAxis:[{type:"value",axisLabel:{textStyle:{color:"#afb7d0",fontSize:10}}}]};$.extend(!0,g,b.chartOptions||{}),e.setTheme(f),e.setOption(g),e.on(echarts.config.EVENT.LEGEND_SELECTED,function(a){b.$emit("legendSelected",{chartId:d.id,target:a.target,targetValue:a.selected[a.target]})}),c.data("echart",e),b.$watch("chartOptions",function(a){var b=$.extend(!0,{},g,a||{});e.setOption(b,!0)}),$(window).on("resize",function(){e.resize()})}}}]).directive("ktEchartLegend",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("change",function(){var a=$("#"+c.chartId).data("echart");a&&a.component.legend.setSelected(c.name,d.$modelValue)}),a.$on("legendSelected",function(a,b){c.name===b.target&&c.chartId===b.chartId&&(d.$setViewValue(b.targetValue),d.$render())})}}})}();