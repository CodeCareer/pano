!function(){"use strict";angular.module("kt.common").directive("ktCaptchaImg",["ktCaptcha",function(a){return{restrict:"A",scope:{settings:"=settings"},link:function(b,c,d){var e,f=0|d.height,g=$(d.heightLinkTo);if(g.length){var e=g[0].getBoundingClientRect();f=e.height-2}var h=new a($.extend({selector:c,height:f,width:0|d.width,font:'bold 25px "Comic Sans MS", cursive, sans-serif',onSuccess:function(){b.$emit("imgCaptchaSuccess."+c.attr("id"),b.data||{})},onError:function(){b.$emit("imgCaptchaSuccess."+c.attr("id"))}},b.settings||{}));h.generate(),c.data("captcha",h),b.settings&&(b.settings.CAPTCHA=h),b.$on("validateImgCaptcha."+c.attr("id"),function(a,c){b.data=c,h.validate(c.value)})}}}])}();